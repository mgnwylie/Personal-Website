---
title: "Inequality Map"
author: "Megan Wylie"
date: '2019-10-02'
categories: ["R"]
tags: ["R Markdown", "plot", "regression"]
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Income inequality and health research

I wrote my Master's thesis on the topic of income inequality and health in Canadian cities. To show inequality throughout Canada, I mapped inequality levels for each Canadian city for three time periods: 2001, 2006, and 2011.

Here is a reproduction of that map, which now includes 2016.

# Map

```{r setup, fig.caption = 'Urban Inequality in Canada', include=FALSE}

library(leaflet)
library(maps)

# Here I set up the Canada map from the map package
mapStates = map(regions=sov.expand("Canada"), fill = TRUE, plot = FALSE) 




# add data
#here I add the boundary files from Statistics Canada

file <- system.file("C:\\Users\\Megan Wylie\\Documents\\W-Personal\\Personal-Website\\data\\inequality-map\\data", package = "geojsonio")

out <- geojson_read(file, what = "sp")
#Error: File does not exist. Create it, or fix the path.

url <- "https://github.com/mgnwylie/Thesis-data/blob/master/data.geojson"
geojson_read(url, method = "local", what = "sp")
#Error in rgdal::ogrListLayers(input) : Cannot open data source

#bound <- geojsonio::geojson_read("https://github.com/mgnwylie/Thesis-data/blob/master/data.geojson", what = "sp")




# this works, and makes a canada map - it's purple
leaflet(data = mapStates) %>% 
  addTiles() %>%
  addPolygons(color = "#bdd7e7", stroke = FALSE) %>%
  





```

