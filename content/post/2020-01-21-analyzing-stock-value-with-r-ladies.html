---
title: Analyzing stock value with R Ladies
author: Megan Wylie
date: '2020-01-21'
slug: analyzing-stock-value-with-r-ladies
categories: []
tags: ["stock market", "R", "PortfolioAnalytics", "portfolio" ]
Categories: []
Description: ''
Tags: []
draft: TRUE
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/plotly-binding/plotly.js"></script>
<script src="/rmarkdown-libs/typedarray/typedarray.min.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="/rmarkdown-libs/crosstalk/js/crosstalk.min.js"></script>
<link href="/rmarkdown-libs/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="/rmarkdown-libs/plotly-main/plotly-latest.min.js"></script>


<p>This week for R Ladies we did a tutorial on stock market analysis.</p>
<p>This first R chunk sets up the R-Markdown environment. Within the brackets of the first line, the R code is called <em>setup</em>. Include = FALSE (or F) means that when the R-Markdown file is run from R Studio to another file format, i.e. being <em>knit</em>, it does not run the code.</p>
<p>This tutorial is longer and more complex than the previous workshop, and I’ve split it into two blog posts.</p>
<p>In the first blog post, I review:
- getting stock data from Yahoo
- x
- y</p>
<p>In the second blog post, I show you how to:
- z
- a
- b</p>
<p>This tutorial also requires a few new packages, loaded below. (Notice DPLYR from the last workshop!)</p>
<p>For this tutorial, I am going to explain the code by chunk, which I have separated by &lt;- thing.</p>
<pre><code>##                   BNS.TO            AC          SHOP           GSY
## 2019-06-04  0.0124258836  0.0016155594  3.396226e-02  1.986995e-04
## 2019-06-05 -0.0017124897  0.0306451728  6.759120e-02  1.985994e-04
## 2019-06-06  0.0011435886 -0.0013041224  1.552034e-02  0.000000e+00
## 2019-06-07  0.0052835777 -0.0127970677  2.689689e-02  1.985599e-04
## 2019-06-10  0.0045454241 -0.0211640437  5.507370e-03  1.983589e-04
## 2019-06-11  0.0007069351  0.0083784364 -6.526913e-05 -1.983196e-04
## 2019-06-12 -0.0077716571 -0.0064326846  1.118328e-02  1.983589e-04
## 2019-06-13  0.0015666210  0.0002699175 -1.015678e-02  0.000000e+00
## 2019-06-14  0.0036967509 -0.0024272465 -6.123994e-03  7.938034e-04
## 2019-06-17  0.0002834006  0.0032528094  2.425424e-03  0.000000e+00
## 2019-06-18  0.0077892668 -0.0362064164 -5.362155e-03  0.000000e+00
## 2019-06-19  0.0014052444 -0.0187832555  7.498109e-02  1.983237e-04
## 2019-06-20  0.0016838921  0.0031428374  3.027402e-03  1.982844e-04
## 2019-06-21  0.0018211934  0.0042722785 -3.536490e-03  1.981644e-04
## 2019-06-24  0.0025172401 -0.0022688250 -4.595386e-02  3.773917e-04
## 2019-06-25 -0.0046030438  0.0017055167 -8.911900e-02  0.000000e+00
## 2019-06-26 -0.0032233582 -0.0229852595  1.756791e-02  0.000000e+00
## 2019-06-27 -0.0021087124  0.0229451602  4.127596e-02  0.000000e+00
## 2019-06-28  0.0032806241  0.0618966607 -2.691378e-03  1.987359e-04
## 2019-07-03  0.0055109206 -0.0083291249  4.391576e-03  0.000000e+00
## 2019-07-08 -0.0015496713 -0.0160427883  2.320540e-02 -1.983978e-04
## 2019-07-09  0.0019754831  0.0183747170  3.052994e-03  0.000000e+00
## 2019-07-10 -0.0032390585 -0.0010164518 -9.224178e-03  0.000000e+00
## 2019-07-11 -0.0036733844  0.0035614051 -1.257017e-02  3.970153e-04
## 2019-07-12 -0.0097843321 -0.0240812007 -1.580956e-02  1.981973e-04
## 2019-07-15 -0.0048690873  0.0012987595  4.515838e-02  0.000000e+00
## 2019-07-16 -0.0010073572  0.0033721918 -2.046162e-02  1.982989e-04
## 2019-07-17 -0.0050417467 -0.0204239629  2.498501e-02  0.000000e+00
## 2019-07-18  0.0043433997  0.0110847334  1.792078e-02  0.000000e+00
## 2019-07-19  0.0000000000  0.0088750138 -3.472728e-03  3.965394e-04
## 2019-07-22 -0.0001441086 -0.0067271151  1.587876e-02  9.934205e-05
## 2019-07-23  0.0066320772 -0.0156289864 -1.497431e-02  0.000000e+00
## 2019-07-24  0.0067315770 -0.0034400899 -1.968367e-03  1.985436e-04
## 2019-07-25  0.0062597821 -0.0092936433  1.143911e-02  1.986048e-04
## 2019-07-26 -0.0026862989 -0.0128651994  9.599847e-03 -1.985654e-04
## 2019-07-29  0.0036858970  0.0046157582 -5.000897e-02  0.000000e+00
## 2019-07-30 -0.0045197656  0.0075675051 -1.692160e-02  1.986048e-04
## 2019-07-31 -0.0002837943  0.0024141798  1.139045e-02  0.000000e+00
## 2019-08-01 -0.0055350501 -0.0072250699  7.395876e-02  3.970905e-04
## 2019-08-02 -0.0071356835 -0.0115903348 -2.694869e-02  5.953591e-04
## 2019-08-07  0.0065654642  0.0165516351  2.597164e-02  0.000000e+00
## 2019-08-08  0.0055081009 -0.0176389432  4.834315e-02 -1.980488e-04
## 2019-08-09 -0.0036038517  0.0129832802  3.392866e-02  1.980880e-04
## 2019-08-12 -0.0044849914 -0.0272701861 -8.703881e-03  0.000000e+00
## 2019-08-13  0.0037785669  0.0187833398  6.817004e-03  3.965596e-04
## 2019-08-14 -0.0196902112 -0.0368739788 -4.449807e-02 -3.964024e-04
## 2019-08-15 -0.0044306399  0.0177142705 -4.903574e-03  3.965596e-04
## 2019-08-16  0.0045987629  0.0196518317  2.184745e-02  1.982714e-04
## 2019-08-19  0.0110750543  0.0019273384  8.613472e-03  2.183845e-04
## 2019-08-20 -0.0078867696 -0.0274800126  3.631544e-02  0.000000e+00
## 2019-08-21  0.0042691273 -0.0090421893  3.962980e-02  0.000000e+00
## 2019-08-22  0.0038112307 -0.0037068151 -3.309078e-03  0.000000e+00
## 2019-08-23 -0.0112442097 -0.0134515963 -1.490196e-02  1.984297e-04
## 2019-08-26  0.0008861825 -0.0168262858  3.451337e-02 -1.983903e-04
## 2019-08-27  0.0118046796  0.0244910969  2.785635e-02  1.984297e-04
## 2019-08-28  0.0110835564  0.0037440662 -2.995160e-02  1.985308e-04
## 2019-08-29  0.0164430276  0.0034434485 -7.826740e-03  1.984111e-04
## 2019-08-30  0.0046829066 -0.0060052553 -1.613432e-02  1.982314e-04
## 2019-09-03 -0.0050847742 -0.0046029214 -3.840294e-03  1.984327e-04
## 2019-09-04  0.0082339946  0.0028901869  6.720289e-03  0.000000e+00
## 2019-09-05  0.0085890312 -0.0100865311  1.611946e-02  0.000000e+00
## 2019-09-06  0.0062824556  0.0072780840 -3.131999e-02  1.982129e-04
## 2019-09-09  0.0067978952  0.0086706186 -5.717365e-02  1.983540e-04
## 2019-09-10  0.0048228885  0.0166188549 -5.974858e-02 -3.964490e-04
## 2019-09-11  0.0108338776  0.0245207611  3.045315e-02  0.000000e+00
## 2019-09-12  0.0074616162  0.0228336537  2.624383e-02  1.982129e-04
## 2019-09-13  0.0095611133 -0.0182893635 -5.136979e-02 -3.965276e-04
## 2019-09-16 -0.0066693940  0.0000000000 -1.123245e-03  0.000000e+00
## 2019-09-17  0.0037598601 -0.0043836037 -2.695820e-02  1.984327e-04
## 2019-09-18 -0.0022742626  0.0044029043 -9.032300e-03  3.966062e-04
## 2019-09-19 -0.0010726339  0.0084930743 -2.608581e-03  1.981343e-04
## 2019-09-20  0.0033556800 -0.0222765121 -1.901536e-02  1.982754e-04
## 2019-09-23  0.0013377773  0.0013892534 -1.743930e-02  9.917814e-05
## 2019-09-24  0.0064128755 -0.0086015882 -5.678991e-02  1.985970e-04
## 2019-09-25  0.0045134766  0.0075566711  6.474432e-02  3.969950e-04
## 2019-09-26  0.0062110547  0.0000000000 -4.640785e-03 -3.968374e-04
## 2019-09-27  0.0014447580 -0.0147221908 -2.379132e-02  3.969950e-04
## 2019-09-30 -0.0013271399  0.0033831451  1.952960e-02  1.983987e-04
## 2019-10-01 -0.0086378934  0.0494520919  5.005445e-03  1.983593e-04
## 2019-10-02 -0.0089812071 -0.0029450953 -9.131013e-03  1.983000e-04
## 2019-10-03 -0.0017583228  0.0357142463  4.900768e-02  3.967014e-04
## 2019-10-04  0.0060974571  0.0251491345  5.006619e-03  3.963841e-04
## 2019-10-07  0.0008080644  0.0015173512 -2.689502e-03  0.000000e+00
## 2019-10-08 -0.0014803302 -0.0045454608 -4.679461e-02  0.000000e+00
## 2019-10-09  0.0083559261 -0.0045661146  9.001826e-03  0.000000e+00
## 2019-10-10 -0.0001336852 -0.0152905139  3.383780e-02 -1.981835e-04
## 2019-10-11  0.0045449033 -0.0219979014  1.476256e-02 -1.980828e-04
## 2019-10-16  0.0023816412 -0.0234076959 -6.484042e-02  0.000000e+00
## 2019-10-17 -0.0035639269  0.0100334572  2.379181e-02  3.963841e-04
## 2019-10-18  0.0010596812 -0.0060706845 -5.130682e-02  0.000000e+00
## 2019-10-21 -0.0037051390  0.0113825286  1.714709e-02  2.382240e-04
## 2019-10-22 -0.0013281975  0.0225088770 -6.267791e-02  1.986159e-04
## 2019-10-23 -0.0013299775  0.0359731398 -8.508749e-03  0.000000e+00
## 2019-10-24 -0.0001331102 -0.0033686707  8.817386e-02  3.970331e-04
## 2019-10-25  0.0006659090  0.0387415514 -1.821607e-02  0.000000e+00
## 2019-10-28  0.0007986130 -0.0125156271  2.356271e-02  0.000000e+00
## 2019-10-29  0.0047878811  0.0126742533 -3.819285e-02 -1.985576e-04
## 2019-10-30  0.0027796735 -0.0015018793  2.111867e-02  3.968944e-04
## 2019-10-31 -0.0029039949  0.0177989238 -1.739154e-02  0.000000e+00
## 2019-11-01  0.0034419894  0.0024630903  1.017318e-02  1.983785e-04
## 2019-11-04  0.0055407974 -0.0046683557 -2.793915e-02 -1.983391e-04
## 2019-11-05  0.0020991838 -0.0143174053 -4.030400e-02  0.000000e+00
## 2019-11-06  0.0011783944 -0.0160280778 -1.624403e-03  5.951154e-04
## 2019-11-07 -0.0006538974 -0.0091626487 -3.142156e-02 -3.965010e-04
## 2019-11-08  0.0010467853  0.0007706278  4.160985e-02  1.983990e-04
## 2019-11-11  0.0000000000  0.0051334168  1.908343e-02  1.982199e-04
## 2019-11-12 -0.0009149413 -0.0168539297  7.384910e-03  0.000000e+00
## 2019-11-13 -0.0047102156 -0.0181817732  2.863595e-02  3.965609e-04
## 2019-11-14  0.0003943722  0.0214285860 -5.917680e-03  0.000000e+00
## 2019-11-15 -0.0011826370 -0.0238280977 -2.240582e-04 -1.981619e-04
## 2019-11-18  0.0035520985 -0.0591668841  3.393305e-02  5.561925e-04
## 2019-11-19  0.0028840925  0.0152284471 -2.074435e-02 -1.985497e-04
## 2019-11-20 -0.0036600962 -0.0063888742  2.434517e-03  3.972581e-04
## 2019-11-21 -0.0026239963  0.0005592032 -3.090935e-03  0.000000e+00
## 2019-11-22 -0.0060510762  0.0108968141 -4.904034e-03  1.983707e-04
## 2019-11-25  0.0031764338  0.0102266813  8.107650e-03  0.000000e+00
## 2019-11-26 -0.0081795464 -0.0125855522  6.030212e-02  1.985507e-04
## 2019-11-27 -0.0034583638  0.0024937828  1.430738e-02  0.000000e+00
## 2019-12-02 -0.0034694527  0.0047090965 -1.755012e-02 -1.985112e-04
## 2019-12-03 -0.0099089331  0.0063414250  5.990814e-02  1.985507e-04
## 2019-12-04  0.0035162657 -0.0131507013  6.085666e-02  1.983717e-04
## 2019-12-05  0.0094340305  0.0186007127 -2.260754e-02  1.983125e-04
## 2019-12-06  0.0041388150 -0.0152629982  2.777882e-03  0.000000e+00
## 2019-12-09 -0.0033240058 -0.0035981457  1.423479e-02  1.983528e-04
## 2019-12-10 -0.0038687257 -0.0019443867 -4.840609e-03 -1.983135e-04
## 2019-12-11 -0.0010714268  0.0150292427  1.380431e-02  1.983528e-04
## 2019-12-12  0.0016088707 -0.0085001707 -2.760799e-03 -1.983135e-04
## 2019-12-13 -0.0119126835 -0.0165929418  3.633925e-02  3.967256e-04
## 2019-12-16  0.0031156987  0.0247468640  2.090411e-02 -3.965682e-04
## 2019-12-17  0.0058069124  0.0098792670 -1.442978e-02  3.967256e-04
## 2019-12-18 -0.0116810827  0.0190217738  2.317306e-02 -1.982941e-04
## 2019-12-19 -0.0040755604  0.0359999269 -9.774787e-03  3.965672e-04
## 2019-12-20  0.0049106642 -0.0036035742 -7.606958e-03  0.000000e+00
## 2019-12-23 -0.0027147267 -0.0005166285 -2.409829e-03  2.782377e-04
## 2019-12-24 -0.0006806118 -0.0038870433  2.636654e-02  1.986376e-04
## 2019-12-30 -0.0021761794 -0.0110747294 -2.852945e-02  0.000000e+00</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"visdat":{"303c3fd763e4":["function () ","plotlyVisDat"]},"cur_data":"303c3fd763e4","attrs":{"303c3fd763e4":{"y":{},"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":["function (main = NULL, sub = NULL, xlab = NULL, ylab = NULL, ","    line = NA, outer = FALSE, ...) ","{","    main <- as.graphicsAnnot(main)","    sub <- as.graphicsAnnot(sub)","    xlab <- as.graphicsAnnot(xlab)","    ylab <- as.graphicsAnnot(ylab)","    .External.graphics(C_title, main, sub, xlab, ylab, line, ","        outer, ...)","    invisible()","}"],"xaxis":{"domain":[0,1],"automargin":true,"type":"date"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Price"},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"y":[66.728615,67.557777,67.442085,67.519211,67.875954,68.184479,68.232681,67.7024,67.808464,68.059135,68.078423,68.608704,68.705116,68.820808,68.946144,69.119698,68.801537,68.579765,68.43515,68.65966,null,69.079384,69.460075,69.499115,69.28437,69.177002,69.31366,69.089149,68.835358,68.16185,67.829964,67.761635,67.419998,67.71283,67.71283,67.703072,68.152084,68.610855,69.040344,68.854881,69.108673,68.796318,68.776794,68.396111,67.908058,null,66.902657,67.341904,67.71283,67.468803,67.166206,67.419998,66.092484,65.799652,66.102249,66.834335,66.307228,66.590302,66.844093,66.092484,66.151054,66.931946,67.67379,68.786552,69.108673,68.757271,69.323418,69.918839,70.358101,70.836388,71.178024,71.949158,72.486015,73.179062,72.691002,72.96431,72.79837,72.720284,72.96431,73.06192,73.530457,73.862335,74.321098,74.428474,74.329697,73.687645,73.025841,72.897438,73.341927,73.401192,73.292534,73.904961,73.895081,74.230927,null,74.655663,74.833466,74.566765,74.645782,74.369209,74.270432,74.171654,74.161781,74.211166,74.270432,74.62603,74.833466,74.61615,74.872978,75.287834,75.445877,75.534782,75.48539,75.564407,75.564407,75.49527,75.139671,75.169304,75.080406,75.347099,75.564407,75.287834,75.090279,74.635902,74.872978,74.260551,74.003731,74.003731,74.023491,73.76667,73.035721,73.292534,73.983978,74.290184,74.043243,73.75679,73.677765,73.796303,72.917191,73.144379,73.569122,72.709755,72.413422,72.76902,72.571472,72.522079,null,72.62085,72.462814],"mode":"lines","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<pre><code>## $weights
## BNS.TO     AC   SHOP    GSY 
##   0.26   0.05   0.65   0.05 
## 
## $objective_measures
## $objective_measures$mean
##        mean 
## 0.001938285 
## 
## 
## $opt_values
## $opt_values$mean
##        mean 
## 0.001938285 
## 
## 
## $out
## [1] -0.001938285
## 
## $call
## optimize.portfolio(R = returns, portfolio = max_return, optimize_method = &quot;ROI&quot;, 
##     trace = TRUE)
## 
## $portfolio
## **************************************************
## PortfolioAnalytics Portfolio Specification 
## **************************************************
## 
## Call:
## portfolio.spec(assets = colnames(returns))
## 
## Number of assets: 4 
## Asset Names
## [1] &quot;BNS.TO&quot; &quot;AC&quot;     &quot;SHOP&quot;   &quot;GSY&quot;   
## 
## Constraints
## Enabled constraint types
##      - box 
##      - leverage 
## 
## Objectives:
## Enabled objective names
##      - mean 
## 
## 
## $R
##                   BNS.TO            AC          SHOP           GSY
## 2019-06-04  0.0124258836  0.0016155594  3.396226e-02  1.986995e-04
## 2019-06-05 -0.0017124897  0.0306451728  6.759120e-02  1.985994e-04
## 2019-06-06  0.0011435886 -0.0013041224  1.552034e-02  0.000000e+00
## 2019-06-07  0.0052835777 -0.0127970677  2.689689e-02  1.985599e-04
## 2019-06-10  0.0045454241 -0.0211640437  5.507370e-03  1.983589e-04
## 2019-06-11  0.0007069351  0.0083784364 -6.526913e-05 -1.983196e-04
## 2019-06-12 -0.0077716571 -0.0064326846  1.118328e-02  1.983589e-04
## 2019-06-13  0.0015666210  0.0002699175 -1.015678e-02  0.000000e+00
## 2019-06-14  0.0036967509 -0.0024272465 -6.123994e-03  7.938034e-04
## 2019-06-17  0.0002834006  0.0032528094  2.425424e-03  0.000000e+00
## 2019-06-18  0.0077892668 -0.0362064164 -5.362155e-03  0.000000e+00
## 2019-06-19  0.0014052444 -0.0187832555  7.498109e-02  1.983237e-04
## 2019-06-20  0.0016838921  0.0031428374  3.027402e-03  1.982844e-04
## 2019-06-21  0.0018211934  0.0042722785 -3.536490e-03  1.981644e-04
## 2019-06-24  0.0025172401 -0.0022688250 -4.595386e-02  3.773917e-04
## 2019-06-25 -0.0046030438  0.0017055167 -8.911900e-02  0.000000e+00
## 2019-06-26 -0.0032233582 -0.0229852595  1.756791e-02  0.000000e+00
## 2019-06-27 -0.0021087124  0.0229451602  4.127596e-02  0.000000e+00
## 2019-06-28  0.0032806241  0.0618966607 -2.691378e-03  1.987359e-04
## 2019-07-03  0.0055109206 -0.0083291249  4.391576e-03  0.000000e+00
## 2019-07-08 -0.0015496713 -0.0160427883  2.320540e-02 -1.983978e-04
## 2019-07-09  0.0019754831  0.0183747170  3.052994e-03  0.000000e+00
## 2019-07-10 -0.0032390585 -0.0010164518 -9.224178e-03  0.000000e+00
## 2019-07-11 -0.0036733844  0.0035614051 -1.257017e-02  3.970153e-04
## 2019-07-12 -0.0097843321 -0.0240812007 -1.580956e-02  1.981973e-04
## 2019-07-15 -0.0048690873  0.0012987595  4.515838e-02  0.000000e+00
## 2019-07-16 -0.0010073572  0.0033721918 -2.046162e-02  1.982989e-04
## 2019-07-17 -0.0050417467 -0.0204239629  2.498501e-02  0.000000e+00
## 2019-07-18  0.0043433997  0.0110847334  1.792078e-02  0.000000e+00
## 2019-07-19  0.0000000000  0.0088750138 -3.472728e-03  3.965394e-04
## 2019-07-22 -0.0001441086 -0.0067271151  1.587876e-02  9.934205e-05
## 2019-07-23  0.0066320772 -0.0156289864 -1.497431e-02  0.000000e+00
## 2019-07-24  0.0067315770 -0.0034400899 -1.968367e-03  1.985436e-04
## 2019-07-25  0.0062597821 -0.0092936433  1.143911e-02  1.986048e-04
## 2019-07-26 -0.0026862989 -0.0128651994  9.599847e-03 -1.985654e-04
## 2019-07-29  0.0036858970  0.0046157582 -5.000897e-02  0.000000e+00
## 2019-07-30 -0.0045197656  0.0075675051 -1.692160e-02  1.986048e-04
## 2019-07-31 -0.0002837943  0.0024141798  1.139045e-02  0.000000e+00
## 2019-08-01 -0.0055350501 -0.0072250699  7.395876e-02  3.970905e-04
## 2019-08-02 -0.0071356835 -0.0115903348 -2.694869e-02  5.953591e-04
## 2019-08-07  0.0065654642  0.0165516351  2.597164e-02  0.000000e+00
## 2019-08-08  0.0055081009 -0.0176389432  4.834315e-02 -1.980488e-04
## 2019-08-09 -0.0036038517  0.0129832802  3.392866e-02  1.980880e-04
## 2019-08-12 -0.0044849914 -0.0272701861 -8.703881e-03  0.000000e+00
## 2019-08-13  0.0037785669  0.0187833398  6.817004e-03  3.965596e-04
## 2019-08-14 -0.0196902112 -0.0368739788 -4.449807e-02 -3.964024e-04
## 2019-08-15 -0.0044306399  0.0177142705 -4.903574e-03  3.965596e-04
## 2019-08-16  0.0045987629  0.0196518317  2.184745e-02  1.982714e-04
## 2019-08-19  0.0110750543  0.0019273384  8.613472e-03  2.183845e-04
## 2019-08-20 -0.0078867696 -0.0274800126  3.631544e-02  0.000000e+00
## 2019-08-21  0.0042691273 -0.0090421893  3.962980e-02  0.000000e+00
## 2019-08-22  0.0038112307 -0.0037068151 -3.309078e-03  0.000000e+00
## 2019-08-23 -0.0112442097 -0.0134515963 -1.490196e-02  1.984297e-04
## 2019-08-26  0.0008861825 -0.0168262858  3.451337e-02 -1.983903e-04
## 2019-08-27  0.0118046796  0.0244910969  2.785635e-02  1.984297e-04
## 2019-08-28  0.0110835564  0.0037440662 -2.995160e-02  1.985308e-04
## 2019-08-29  0.0164430276  0.0034434485 -7.826740e-03  1.984111e-04
## 2019-08-30  0.0046829066 -0.0060052553 -1.613432e-02  1.982314e-04
## 2019-09-03 -0.0050847742 -0.0046029214 -3.840294e-03  1.984327e-04
## 2019-09-04  0.0082339946  0.0028901869  6.720289e-03  0.000000e+00
## 2019-09-05  0.0085890312 -0.0100865311  1.611946e-02  0.000000e+00
## 2019-09-06  0.0062824556  0.0072780840 -3.131999e-02  1.982129e-04
## 2019-09-09  0.0067978952  0.0086706186 -5.717365e-02  1.983540e-04
## 2019-09-10  0.0048228885  0.0166188549 -5.974858e-02 -3.964490e-04
## 2019-09-11  0.0108338776  0.0245207611  3.045315e-02  0.000000e+00
## 2019-09-12  0.0074616162  0.0228336537  2.624383e-02  1.982129e-04
## 2019-09-13  0.0095611133 -0.0182893635 -5.136979e-02 -3.965276e-04
## 2019-09-16 -0.0066693940  0.0000000000 -1.123245e-03  0.000000e+00
## 2019-09-17  0.0037598601 -0.0043836037 -2.695820e-02  1.984327e-04
## 2019-09-18 -0.0022742626  0.0044029043 -9.032300e-03  3.966062e-04
## 2019-09-19 -0.0010726339  0.0084930743 -2.608581e-03  1.981343e-04
## 2019-09-20  0.0033556800 -0.0222765121 -1.901536e-02  1.982754e-04
## 2019-09-23  0.0013377773  0.0013892534 -1.743930e-02  9.917814e-05
## 2019-09-24  0.0064128755 -0.0086015882 -5.678991e-02  1.985970e-04
## 2019-09-25  0.0045134766  0.0075566711  6.474432e-02  3.969950e-04
## 2019-09-26  0.0062110547  0.0000000000 -4.640785e-03 -3.968374e-04
## 2019-09-27  0.0014447580 -0.0147221908 -2.379132e-02  3.969950e-04
## 2019-09-30 -0.0013271399  0.0033831451  1.952960e-02  1.983987e-04
## 2019-10-01 -0.0086378934  0.0494520919  5.005445e-03  1.983593e-04
## 2019-10-02 -0.0089812071 -0.0029450953 -9.131013e-03  1.983000e-04
## 2019-10-03 -0.0017583228  0.0357142463  4.900768e-02  3.967014e-04
## 2019-10-04  0.0060974571  0.0251491345  5.006619e-03  3.963841e-04
## 2019-10-07  0.0008080644  0.0015173512 -2.689502e-03  0.000000e+00
## 2019-10-08 -0.0014803302 -0.0045454608 -4.679461e-02  0.000000e+00
## 2019-10-09  0.0083559261 -0.0045661146  9.001826e-03  0.000000e+00
## 2019-10-10 -0.0001336852 -0.0152905139  3.383780e-02 -1.981835e-04
## 2019-10-11  0.0045449033 -0.0219979014  1.476256e-02 -1.980828e-04
## 2019-10-16  0.0023816412 -0.0234076959 -6.484042e-02  0.000000e+00
## 2019-10-17 -0.0035639269  0.0100334572  2.379181e-02  3.963841e-04
## 2019-10-18  0.0010596812 -0.0060706845 -5.130682e-02  0.000000e+00
## 2019-10-21 -0.0037051390  0.0113825286  1.714709e-02  2.382240e-04
## 2019-10-22 -0.0013281975  0.0225088770 -6.267791e-02  1.986159e-04
## 2019-10-23 -0.0013299775  0.0359731398 -8.508749e-03  0.000000e+00
## 2019-10-24 -0.0001331102 -0.0033686707  8.817386e-02  3.970331e-04
## 2019-10-25  0.0006659090  0.0387415514 -1.821607e-02  0.000000e+00
## 2019-10-28  0.0007986130 -0.0125156271  2.356271e-02  0.000000e+00
## 2019-10-29  0.0047878811  0.0126742533 -3.819285e-02 -1.985576e-04
## 2019-10-30  0.0027796735 -0.0015018793  2.111867e-02  3.968944e-04
## 2019-10-31 -0.0029039949  0.0177989238 -1.739154e-02  0.000000e+00
## 2019-11-01  0.0034419894  0.0024630903  1.017318e-02  1.983785e-04
## 2019-11-04  0.0055407974 -0.0046683557 -2.793915e-02 -1.983391e-04
## 2019-11-05  0.0020991838 -0.0143174053 -4.030400e-02  0.000000e+00
## 2019-11-06  0.0011783944 -0.0160280778 -1.624403e-03  5.951154e-04
## 2019-11-07 -0.0006538974 -0.0091626487 -3.142156e-02 -3.965010e-04
## 2019-11-08  0.0010467853  0.0007706278  4.160985e-02  1.983990e-04
## 2019-11-11  0.0000000000  0.0051334168  1.908343e-02  1.982199e-04
## 2019-11-12 -0.0009149413 -0.0168539297  7.384910e-03  0.000000e+00
## 2019-11-13 -0.0047102156 -0.0181817732  2.863595e-02  3.965609e-04
## 2019-11-14  0.0003943722  0.0214285860 -5.917680e-03  0.000000e+00
## 2019-11-15 -0.0011826370 -0.0238280977 -2.240582e-04 -1.981619e-04
## 2019-11-18  0.0035520985 -0.0591668841  3.393305e-02  5.561925e-04
## 2019-11-19  0.0028840925  0.0152284471 -2.074435e-02 -1.985497e-04
## 2019-11-20 -0.0036600962 -0.0063888742  2.434517e-03  3.972581e-04
## 2019-11-21 -0.0026239963  0.0005592032 -3.090935e-03  0.000000e+00
## 2019-11-22 -0.0060510762  0.0108968141 -4.904034e-03  1.983707e-04
## 2019-11-25  0.0031764338  0.0102266813  8.107650e-03  0.000000e+00
## 2019-11-26 -0.0081795464 -0.0125855522  6.030212e-02  1.985507e-04
## 2019-11-27 -0.0034583638  0.0024937828  1.430738e-02  0.000000e+00
## 2019-12-02 -0.0034694527  0.0047090965 -1.755012e-02 -1.985112e-04
## 2019-12-03 -0.0099089331  0.0063414250  5.990814e-02  1.985507e-04
## 2019-12-04  0.0035162657 -0.0131507013  6.085666e-02  1.983717e-04
## 2019-12-05  0.0094340305  0.0186007127 -2.260754e-02  1.983125e-04
## 2019-12-06  0.0041388150 -0.0152629982  2.777882e-03  0.000000e+00
## 2019-12-09 -0.0033240058 -0.0035981457  1.423479e-02  1.983528e-04
## 2019-12-10 -0.0038687257 -0.0019443867 -4.840609e-03 -1.983135e-04
## 2019-12-11 -0.0010714268  0.0150292427  1.380431e-02  1.983528e-04
## 2019-12-12  0.0016088707 -0.0085001707 -2.760799e-03 -1.983135e-04
## 2019-12-13 -0.0119126835 -0.0165929418  3.633925e-02  3.967256e-04
## 2019-12-16  0.0031156987  0.0247468640  2.090411e-02 -3.965682e-04
## 2019-12-17  0.0058069124  0.0098792670 -1.442978e-02  3.967256e-04
## 2019-12-18 -0.0116810827  0.0190217738  2.317306e-02 -1.982941e-04
## 2019-12-19 -0.0040755604  0.0359999269 -9.774787e-03  3.965672e-04
## 2019-12-20  0.0049106642 -0.0036035742 -7.606958e-03  0.000000e+00
## 2019-12-23 -0.0027147267 -0.0005166285 -2.409829e-03  2.782377e-04
## 2019-12-24 -0.0006806118 -0.0038870433  2.636654e-02  1.986376e-04
## 2019-12-30 -0.0021761794 -0.0110747294 -2.852945e-02  0.000000e+00
## 
## $data_summary
## $data_summary$first
##                BNS.TO          AC       SHOP          GSY
## 2019-06-04 0.01242588 0.001615559 0.03396226 0.0001986995
## 
## $data_summary$last
##                  BNS.TO          AC        SHOP GSY
## 2019-12-30 -0.002176179 -0.01107473 -0.02852945   0
## 
## 
## $elapsed_time
## Time difference of 0.01560998 secs
## 
## $end_t
## [1] &quot;2020-01-26 21:39:55&quot;
## 
## attr(,&quot;class&quot;)
## [1] &quot;optimize.portfolio.ROI&quot; &quot;optimize.portfolio&quot;</code></pre>
<pre><code>## ***********************************
## PortfolioAnalytics Optimization
## ***********************************
## 
## Call:
## optimize.portfolio(R = returns, portfolio = max_return, optimize_method = &quot;ROI&quot;, 
##     trace = TRUE)
## 
## Optimal Weights:
## BNS.TO     AC   SHOP    GSY 
##   0.26   0.05   0.65   0.05 
## 
## Objective Measure:
##     mean 
## 0.001938</code></pre>
<p><img src="/post/2020-01-21-analyzing-stock-value-with-r-ladies_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<pre><code>## $weights
## BNS.TO     AC   SHOP    GSY 
##   0.24   0.05   0.05   0.65 
## 
## $objective_measures
## $objective_measures$StdDev
##      StdDev 
## 0.002214242 
## 
## 
## $opt_values
## $opt_values$StdDev
##      StdDev 
## 0.002214242 
## 
## 
## $out
## [1] 4.902867e-06
## 
## $call
## optimize.portfolio(R = returns, portfolio = min_var, optimize_method = &quot;ROI&quot;, 
##     trace = TRUE)
## 
## $portfolio
## **************************************************
## PortfolioAnalytics Portfolio Specification 
## **************************************************
## 
## Call:
## portfolio.spec(assets = colnames(returns))
## 
## Number of assets: 4 
## Asset Names
## [1] &quot;BNS.TO&quot; &quot;AC&quot;     &quot;SHOP&quot;   &quot;GSY&quot;   
## 
## Constraints
## Enabled constraint types
##      - box 
##      - leverage 
## 
## Objectives:
## Enabled objective names
##      - var 
## 
## 
## $R
##                   BNS.TO            AC          SHOP           GSY
## 2019-06-04  0.0124258836  0.0016155594  3.396226e-02  1.986995e-04
## 2019-06-05 -0.0017124897  0.0306451728  6.759120e-02  1.985994e-04
## 2019-06-06  0.0011435886 -0.0013041224  1.552034e-02  0.000000e+00
## 2019-06-07  0.0052835777 -0.0127970677  2.689689e-02  1.985599e-04
## 2019-06-10  0.0045454241 -0.0211640437  5.507370e-03  1.983589e-04
## 2019-06-11  0.0007069351  0.0083784364 -6.526913e-05 -1.983196e-04
## 2019-06-12 -0.0077716571 -0.0064326846  1.118328e-02  1.983589e-04
## 2019-06-13  0.0015666210  0.0002699175 -1.015678e-02  0.000000e+00
## 2019-06-14  0.0036967509 -0.0024272465 -6.123994e-03  7.938034e-04
## 2019-06-17  0.0002834006  0.0032528094  2.425424e-03  0.000000e+00
## 2019-06-18  0.0077892668 -0.0362064164 -5.362155e-03  0.000000e+00
## 2019-06-19  0.0014052444 -0.0187832555  7.498109e-02  1.983237e-04
## 2019-06-20  0.0016838921  0.0031428374  3.027402e-03  1.982844e-04
## 2019-06-21  0.0018211934  0.0042722785 -3.536490e-03  1.981644e-04
## 2019-06-24  0.0025172401 -0.0022688250 -4.595386e-02  3.773917e-04
## 2019-06-25 -0.0046030438  0.0017055167 -8.911900e-02  0.000000e+00
## 2019-06-26 -0.0032233582 -0.0229852595  1.756791e-02  0.000000e+00
## 2019-06-27 -0.0021087124  0.0229451602  4.127596e-02  0.000000e+00
## 2019-06-28  0.0032806241  0.0618966607 -2.691378e-03  1.987359e-04
## 2019-07-03  0.0055109206 -0.0083291249  4.391576e-03  0.000000e+00
## 2019-07-08 -0.0015496713 -0.0160427883  2.320540e-02 -1.983978e-04
## 2019-07-09  0.0019754831  0.0183747170  3.052994e-03  0.000000e+00
## 2019-07-10 -0.0032390585 -0.0010164518 -9.224178e-03  0.000000e+00
## 2019-07-11 -0.0036733844  0.0035614051 -1.257017e-02  3.970153e-04
## 2019-07-12 -0.0097843321 -0.0240812007 -1.580956e-02  1.981973e-04
## 2019-07-15 -0.0048690873  0.0012987595  4.515838e-02  0.000000e+00
## 2019-07-16 -0.0010073572  0.0033721918 -2.046162e-02  1.982989e-04
## 2019-07-17 -0.0050417467 -0.0204239629  2.498501e-02  0.000000e+00
## 2019-07-18  0.0043433997  0.0110847334  1.792078e-02  0.000000e+00
## 2019-07-19  0.0000000000  0.0088750138 -3.472728e-03  3.965394e-04
## 2019-07-22 -0.0001441086 -0.0067271151  1.587876e-02  9.934205e-05
## 2019-07-23  0.0066320772 -0.0156289864 -1.497431e-02  0.000000e+00
## 2019-07-24  0.0067315770 -0.0034400899 -1.968367e-03  1.985436e-04
## 2019-07-25  0.0062597821 -0.0092936433  1.143911e-02  1.986048e-04
## 2019-07-26 -0.0026862989 -0.0128651994  9.599847e-03 -1.985654e-04
## 2019-07-29  0.0036858970  0.0046157582 -5.000897e-02  0.000000e+00
## 2019-07-30 -0.0045197656  0.0075675051 -1.692160e-02  1.986048e-04
## 2019-07-31 -0.0002837943  0.0024141798  1.139045e-02  0.000000e+00
## 2019-08-01 -0.0055350501 -0.0072250699  7.395876e-02  3.970905e-04
## 2019-08-02 -0.0071356835 -0.0115903348 -2.694869e-02  5.953591e-04
## 2019-08-07  0.0065654642  0.0165516351  2.597164e-02  0.000000e+00
## 2019-08-08  0.0055081009 -0.0176389432  4.834315e-02 -1.980488e-04
## 2019-08-09 -0.0036038517  0.0129832802  3.392866e-02  1.980880e-04
## 2019-08-12 -0.0044849914 -0.0272701861 -8.703881e-03  0.000000e+00
## 2019-08-13  0.0037785669  0.0187833398  6.817004e-03  3.965596e-04
## 2019-08-14 -0.0196902112 -0.0368739788 -4.449807e-02 -3.964024e-04
## 2019-08-15 -0.0044306399  0.0177142705 -4.903574e-03  3.965596e-04
## 2019-08-16  0.0045987629  0.0196518317  2.184745e-02  1.982714e-04
## 2019-08-19  0.0110750543  0.0019273384  8.613472e-03  2.183845e-04
## 2019-08-20 -0.0078867696 -0.0274800126  3.631544e-02  0.000000e+00
## 2019-08-21  0.0042691273 -0.0090421893  3.962980e-02  0.000000e+00
## 2019-08-22  0.0038112307 -0.0037068151 -3.309078e-03  0.000000e+00
## 2019-08-23 -0.0112442097 -0.0134515963 -1.490196e-02  1.984297e-04
## 2019-08-26  0.0008861825 -0.0168262858  3.451337e-02 -1.983903e-04
## 2019-08-27  0.0118046796  0.0244910969  2.785635e-02  1.984297e-04
## 2019-08-28  0.0110835564  0.0037440662 -2.995160e-02  1.985308e-04
## 2019-08-29  0.0164430276  0.0034434485 -7.826740e-03  1.984111e-04
## 2019-08-30  0.0046829066 -0.0060052553 -1.613432e-02  1.982314e-04
## 2019-09-03 -0.0050847742 -0.0046029214 -3.840294e-03  1.984327e-04
## 2019-09-04  0.0082339946  0.0028901869  6.720289e-03  0.000000e+00
## 2019-09-05  0.0085890312 -0.0100865311  1.611946e-02  0.000000e+00
## 2019-09-06  0.0062824556  0.0072780840 -3.131999e-02  1.982129e-04
## 2019-09-09  0.0067978952  0.0086706186 -5.717365e-02  1.983540e-04
## 2019-09-10  0.0048228885  0.0166188549 -5.974858e-02 -3.964490e-04
## 2019-09-11  0.0108338776  0.0245207611  3.045315e-02  0.000000e+00
## 2019-09-12  0.0074616162  0.0228336537  2.624383e-02  1.982129e-04
## 2019-09-13  0.0095611133 -0.0182893635 -5.136979e-02 -3.965276e-04
## 2019-09-16 -0.0066693940  0.0000000000 -1.123245e-03  0.000000e+00
## 2019-09-17  0.0037598601 -0.0043836037 -2.695820e-02  1.984327e-04
## 2019-09-18 -0.0022742626  0.0044029043 -9.032300e-03  3.966062e-04
## 2019-09-19 -0.0010726339  0.0084930743 -2.608581e-03  1.981343e-04
## 2019-09-20  0.0033556800 -0.0222765121 -1.901536e-02  1.982754e-04
## 2019-09-23  0.0013377773  0.0013892534 -1.743930e-02  9.917814e-05
## 2019-09-24  0.0064128755 -0.0086015882 -5.678991e-02  1.985970e-04
## 2019-09-25  0.0045134766  0.0075566711  6.474432e-02  3.969950e-04
## 2019-09-26  0.0062110547  0.0000000000 -4.640785e-03 -3.968374e-04
## 2019-09-27  0.0014447580 -0.0147221908 -2.379132e-02  3.969950e-04
## 2019-09-30 -0.0013271399  0.0033831451  1.952960e-02  1.983987e-04
## 2019-10-01 -0.0086378934  0.0494520919  5.005445e-03  1.983593e-04
## 2019-10-02 -0.0089812071 -0.0029450953 -9.131013e-03  1.983000e-04
## 2019-10-03 -0.0017583228  0.0357142463  4.900768e-02  3.967014e-04
## 2019-10-04  0.0060974571  0.0251491345  5.006619e-03  3.963841e-04
## 2019-10-07  0.0008080644  0.0015173512 -2.689502e-03  0.000000e+00
## 2019-10-08 -0.0014803302 -0.0045454608 -4.679461e-02  0.000000e+00
## 2019-10-09  0.0083559261 -0.0045661146  9.001826e-03  0.000000e+00
## 2019-10-10 -0.0001336852 -0.0152905139  3.383780e-02 -1.981835e-04
## 2019-10-11  0.0045449033 -0.0219979014  1.476256e-02 -1.980828e-04
## 2019-10-16  0.0023816412 -0.0234076959 -6.484042e-02  0.000000e+00
## 2019-10-17 -0.0035639269  0.0100334572  2.379181e-02  3.963841e-04
## 2019-10-18  0.0010596812 -0.0060706845 -5.130682e-02  0.000000e+00
## 2019-10-21 -0.0037051390  0.0113825286  1.714709e-02  2.382240e-04
## 2019-10-22 -0.0013281975  0.0225088770 -6.267791e-02  1.986159e-04
## 2019-10-23 -0.0013299775  0.0359731398 -8.508749e-03  0.000000e+00
## 2019-10-24 -0.0001331102 -0.0033686707  8.817386e-02  3.970331e-04
## 2019-10-25  0.0006659090  0.0387415514 -1.821607e-02  0.000000e+00
## 2019-10-28  0.0007986130 -0.0125156271  2.356271e-02  0.000000e+00
## 2019-10-29  0.0047878811  0.0126742533 -3.819285e-02 -1.985576e-04
## 2019-10-30  0.0027796735 -0.0015018793  2.111867e-02  3.968944e-04
## 2019-10-31 -0.0029039949  0.0177989238 -1.739154e-02  0.000000e+00
## 2019-11-01  0.0034419894  0.0024630903  1.017318e-02  1.983785e-04
## 2019-11-04  0.0055407974 -0.0046683557 -2.793915e-02 -1.983391e-04
## 2019-11-05  0.0020991838 -0.0143174053 -4.030400e-02  0.000000e+00
## 2019-11-06  0.0011783944 -0.0160280778 -1.624403e-03  5.951154e-04
## 2019-11-07 -0.0006538974 -0.0091626487 -3.142156e-02 -3.965010e-04
## 2019-11-08  0.0010467853  0.0007706278  4.160985e-02  1.983990e-04
## 2019-11-11  0.0000000000  0.0051334168  1.908343e-02  1.982199e-04
## 2019-11-12 -0.0009149413 -0.0168539297  7.384910e-03  0.000000e+00
## 2019-11-13 -0.0047102156 -0.0181817732  2.863595e-02  3.965609e-04
## 2019-11-14  0.0003943722  0.0214285860 -5.917680e-03  0.000000e+00
## 2019-11-15 -0.0011826370 -0.0238280977 -2.240582e-04 -1.981619e-04
## 2019-11-18  0.0035520985 -0.0591668841  3.393305e-02  5.561925e-04
## 2019-11-19  0.0028840925  0.0152284471 -2.074435e-02 -1.985497e-04
## 2019-11-20 -0.0036600962 -0.0063888742  2.434517e-03  3.972581e-04
## 2019-11-21 -0.0026239963  0.0005592032 -3.090935e-03  0.000000e+00
## 2019-11-22 -0.0060510762  0.0108968141 -4.904034e-03  1.983707e-04
## 2019-11-25  0.0031764338  0.0102266813  8.107650e-03  0.000000e+00
## 2019-11-26 -0.0081795464 -0.0125855522  6.030212e-02  1.985507e-04
## 2019-11-27 -0.0034583638  0.0024937828  1.430738e-02  0.000000e+00
## 2019-12-02 -0.0034694527  0.0047090965 -1.755012e-02 -1.985112e-04
## 2019-12-03 -0.0099089331  0.0063414250  5.990814e-02  1.985507e-04
## 2019-12-04  0.0035162657 -0.0131507013  6.085666e-02  1.983717e-04
## 2019-12-05  0.0094340305  0.0186007127 -2.260754e-02  1.983125e-04
## 2019-12-06  0.0041388150 -0.0152629982  2.777882e-03  0.000000e+00
## 2019-12-09 -0.0033240058 -0.0035981457  1.423479e-02  1.983528e-04
## 2019-12-10 -0.0038687257 -0.0019443867 -4.840609e-03 -1.983135e-04
## 2019-12-11 -0.0010714268  0.0150292427  1.380431e-02  1.983528e-04
## 2019-12-12  0.0016088707 -0.0085001707 -2.760799e-03 -1.983135e-04
## 2019-12-13 -0.0119126835 -0.0165929418  3.633925e-02  3.967256e-04
## 2019-12-16  0.0031156987  0.0247468640  2.090411e-02 -3.965682e-04
## 2019-12-17  0.0058069124  0.0098792670 -1.442978e-02  3.967256e-04
## 2019-12-18 -0.0116810827  0.0190217738  2.317306e-02 -1.982941e-04
## 2019-12-19 -0.0040755604  0.0359999269 -9.774787e-03  3.965672e-04
## 2019-12-20  0.0049106642 -0.0036035742 -7.606958e-03  0.000000e+00
## 2019-12-23 -0.0027147267 -0.0005166285 -2.409829e-03  2.782377e-04
## 2019-12-24 -0.0006806118 -0.0038870433  2.636654e-02  1.986376e-04
## 2019-12-30 -0.0021761794 -0.0110747294 -2.852945e-02  0.000000e+00
## 
## $data_summary
## $data_summary$first
##                BNS.TO          AC       SHOP          GSY
## 2019-06-04 0.01242588 0.001615559 0.03396226 0.0001986995
## 
## $data_summary$last
##                  BNS.TO          AC        SHOP GSY
## 2019-12-30 -0.002176179 -0.01107473 -0.02852945   0
## 
## 
## $elapsed_time
## Time difference of 0.01559401 secs
## 
## $end_t
## [1] &quot;2020-01-26 21:39:56&quot;
## 
## attr(,&quot;class&quot;)
## [1] &quot;optimize.portfolio.ROI&quot; &quot;optimize.portfolio&quot;</code></pre>
<pre><code>## ***********************************
## PortfolioAnalytics Optimization
## ***********************************
## 
## Call:
## optimize.portfolio(R = returns, portfolio = min_var, optimize_method = &quot;ROI&quot;, 
##     trace = TRUE)
## 
## Optimal Weights:
## BNS.TO     AC   SHOP    GSY 
##   0.24   0.05   0.05   0.65 
## 
## Objective Measure:
##   StdDev 
## 0.002214</code></pre>
<p><img src="/post/2020-01-21-analyzing-stock-value-with-r-ladies_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<p><img src="/post/2020-01-21-analyzing-stock-value-with-r-ladies_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
